"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[413],{949:function(e,t,n){n.d(t,{dU:function(){return s},fh:function(){return f},tx:function(){return p},z1:function(){return o},zv:function(){return l}});var r=n(861),a=n(757),u=n.n(a),c=n(243),i="5e76563aecd028d7cd0b8d124dfe726a";c.Z.defaults.baseURL="https://api.themoviedb.org/3/";var s=function(){var e=(0,r.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("trending/movie/day?api_key=".concat(i));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=(0,r.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("search/movie?api_key=".concat(i,"&language=en-US&query=").concat(t,"&page=1&include_adult=false"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("movie/".concat(t,"?api_key=").concat(i,"&language=en-US"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("movie/".concat(t,"/credits?api_key=").concat(i,"&language=en-US"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("movie/".concat(t,"/reviews?api_key=").concat(i,"&language=en-US&page=1"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},413:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});var r=n(439),a=n(204),u=n(791),c=n(949),i=n(689),s=n(87),o=n(126),f=n(184),l=function(e){var t=e.onSubmit,n=e.children;return(0,f.jsx)("form",{className:"Form",onSubmit:t,children:n})},p=function(){return(0,f.jsx)("input",{className:"Input",type:"text",name:"movieName",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"May contain only letters, apostrophe, dash and spaces. For example moon",required:!0,autoComplete:"off",autoFocus:!0,placeholder:"Search movie..."})},d=function(e){var t=e.onSubmit;return(0,f.jsx)("div",{children:(0,f.jsxs)(l,{onSubmit:t,children:[(0,f.jsx)(p,{}),(0,f.jsx)("button",{className:"buttonIcon",type:"submit","aria-label":"search button",children:(0,f.jsx)(o.dVI,{})})]})})},m=function(){var e,t=(0,i.TH)(),n=(0,s.lr)(),o=(0,r.Z)(n,2),l=o[0],p=o[1],m=null!==(e=l.get("movieName"))&&void 0!==e?e:"",v=(0,u.useState)([]),h=(0,r.Z)(v,2),x=h[0],g=h[1],b=(0,u.useState)(!1),y=(0,r.Z)(b,2),Z=y[0],w=y[1],_=(0,u.useState)(!1),j=(0,r.Z)(_,2),k=j[0],S=j[1];(0,u.useEffect)((function(){""!==m&&(g([]),w(!0),(0,c.z1)(m).then((function(e){if(!e.results.length)return w(!1),S(!0),console.log("There is no movies with this request. Please, try again");S(!1),g(e.results),w(!1)})))}),[m]);return(0,f.jsxs)("div",{className:"container",children:[(0,f.jsx)(d,{onSubmit:function(e){e.preventDefault();var t=e.currentTarget;p({movieName:t.elements.movieName.value}),t.reset()}}),k&&(0,f.jsx)("p",{children:"There is no movies with this request. Please, try again"}),(0,f.jsxs)("ul",{children:[x.map((function(e){return(0,f.jsx)("li",{children:(0,f.jsx)(s.rU,{to:"/movies/".concat(e.id),state:{from:t},children:e.original_title||e.name})},e.id)})),Z&&(0,f.jsx)(a.a,{})]})]})}}}]);
//# sourceMappingURL=413.c5ebbf17.chunk.js.map